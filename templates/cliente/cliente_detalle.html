
{% extends "cliente/dashboard.html" %}

{% block title %}Catálogo | Casa en el Árbol{% endblock %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
{% block extra_css %}
{% endblock %}

{% block content %}

<div class="content1">
<!-- Carrusel de imágenes -->
<div class="container text-center my-4">
  <div id="carouselProducto" class="carousel slide mx-auto" data-bs-ride="carousel" style="max-width: 600px;">
    <div class="carousel-inner">
      {% for img in producto.Imagenes %}
        <div class="carousel-item {% if loop.first %}active{% endif %}">
          <img src="{{ url_for('static', filename=img) }}"
               class="d-block w-100"
               style="max-height: 400px; object-fit: cover;"
               alt="Imagen de {{ producto.NombreProducto }}">
        </div>
      {% endfor %}
    </div>

    <!-- Botones -->
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselProducto" data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselProducto" data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
    </button>
  </div>
</div>


<div class="caja col-lg-5 col-sm-4">
  <h2>{{ producto.NombreProducto }}</h2>
  <p><b>Material:</b> {{ producto.Material }}</p>
  <p><b>Precio:</b> ${{ producto.PrecioUnidad }}</p>
  <p><b>Color:</b> {{ producto.Color }}</p>
  <p><b>Categoría:</b> {{ producto.NombreCategoria }}</p>
  <p><b>Proveedor:</b> {{ producto.NombreEmpresa }}</p>
  <div class="botones">
    <div class="">
      <div class="boton"><button>garantia</button></div>
      <div class="boton"><button>añadir al carrito</button></div>
    </div>
    <div class="botones">
      <a id="menu-personalizar" href="javascript:void(0);" class="btn btn-primary">
        Personalizar
      </a>
    </div>
  </div>
</div>

</div>

<div id="seccion-personalizar" class="card shadow-sm p-4 mt-4 d-none">
  <div class="row g-3">
    <div class="col-12 col-md-6 text-center">
      <div id="carouselPersonalizar" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          {% for img in producto.Imagenes %}
          <div class="carousel-item {% if loop.first %}active{% endif %}">
            <img src="{{ url_for('static', filename=img) }}" class="d-block w-100" style="max-height:400px; object-fit:cover;">
          </div>
          {% endfor %}
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselPersonalizar" data-bs-slide="prev">
          <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselPersonalizar" data-bs-slide="next">
          <span class="carousel-control-next-icon"></span>
        </button>
      </div>
    </div>

    <div class="col-12 col-md-6">
      <div class="caja p-3" style="height:auto;">
        <h2>{{ producto.NombreProducto }}</h2>
        <p><b>Material:</b> {{ producto.Material }}</p>
        <p><b>Precio:</b> ${{ producto.PrecioUnidad }}</p>
        <p><b>Color:</b> {{ producto.Color }}</p>
        <p><b>Categoría:</b> {{ producto.NombreCategoria }}</p>
        <p><b>Proveedor:</b> {{ producto.NombreEmpresa }}</p>

        <div class="botones mt-3 d-flex flex-wrap gap-2">
          <button class="btn btn-outline-secondary">Garantía</button>
          <button class="btn btn-success">Añadir al carrito</button>
          <button id="btn-volver-personalizar" class="btn btn-danger">Volver</button>
        </div>
      </div>
    </div>
  </div>
</div>






<style>

.botones{
    display: flex;
}

:root {
      --primary-green: #5f8f3f;
      --secondary-green: #4e7b33;
      --light-green: #6c9a50;
      --accent-green: #7cb342;
      --bg-cream: #f8f6f0;
      --text-dark: #2c3e50;
      --shadow-light: rgba(0, 0, 0, 0.08);
      --shadow-medium: rgba(0, 0, 0, 0.15);
    }

.boton button{
  background: linear-gradient(135deg, var(--bg-cream) 0%, #f0f4ec 100%);
  border: none;
  padding: 10px 40px;
  border-radius: 20px;
}

.caja{
  
  height: 400px;
  background-color: #fff;
  margin: 25px 5% 0 0;
  padding: 20px 20px;
  border-radius: 15px;
}

.content1{
  display: flex;
}

.carousel-item {
  overflow: hidden; 
  display: none;              /* Ocultar todas las imágenes por defecto */
  transition: transform 0.6s ease-in-out;
}
.carousel-item.active {
  display: block;             /* Solo mostrar la activa */
}
.carousel-item img {
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  object-fit: contain;
  height: 400px;              /* Todas las imágenes con la misma altura */
}

</style>

{% endblock %}

{% block extra_footer %}
<script src="{{ url_for('static', filename='js/catalogo.js') }}"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
    const seccionPersonalizar = document.getElementById("seccion-personalizar");
    const btnPersonalizar = document.getElementById("menu-personalizar");
    const btnVolver = document.getElementById("btn-volver-personalizar");

    // Abrir sección Personalizar
    btnPersonalizar.addEventListener("click", e => {
        e.preventDefault();
        seccionPersonalizar.classList.remove("d-none");
        seccionPersonalizar.scrollIntoView({ behavior: "smooth" });
    });

    // Cerrar sección Personalizar
    btnVolver.addEventListener("click", e => {
        e.preventDefault();
        seccionPersonalizar.classList.add("d-none");
    });
});
</script>






{% endblock %}
