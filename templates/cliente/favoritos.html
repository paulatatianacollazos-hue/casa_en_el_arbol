{% extends "cliente/dashboard.html" %}
{% block title %}Mis Favoritos{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2>Mis productos favoritos</h2>
  <div id="lista-favoritos" class="row mt-3"></div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const contenedor = document.getElementById("lista-favoritos");
  const favoritos = JSON.parse(localStorage.getItem("favoritos")) || [];

  if (favoritos.length === 0) {
    contenedor.innerHTML = "<p>No tienes productos favoritos aún.</p>";
  } else {
    favoritos.forEach(prod => {
      const div = document.createElement("div");
      div.classList.add("col-md-3", "text-center", "mb-4");
      div.innerHTML = `
        <div class="card">
          <img src="${prod.imagen}" class="card-img-top" alt="${prod.nombre}">
          <div class="card-body">
            <h5 class="card-title">${prod.nombre}</h5>
            <p>$${prod.precio}</p>
            <button class="btn btn-outline-primary" onclick="verDetalle('${prod.id}')">Ver detalle</button>
          </div>
        </div>
      `;
      contenedor.appendChild(div);
    });
  }
});

function verDetalle(id) {
  window.location.href = "/cliente/producto/" + id;  // Ajusta según tu ruta Flask
}
</script>
{% endblock %}
